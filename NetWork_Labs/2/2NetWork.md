# Защита инфраструктуры маршрутизации

Автор: Синицын Даниил 932024

## Цель: 
Целью лабораторной работы является обучение методам и средствам проектирования и защиты инфраструктуры маршрутизации
отказоустойчивых иерархических компьютерных сетей на основе
протокола маршрутизации OSPF.
## Шаг 1
Настроить модель коммутаторов Frame Relay, используя
элемент Cloud-PT набора WAN Emulation. <br/>
``Как выяснилось всё достаточно просто ``
![](lab2image/fr.png)
## Шаг 2
Построить модель компьютерной сети в соответствии со
схемой, представленной на рис. 1. Определить уровень каждого
маршрутизатора СПД в ее иерархической модели. 
![](lab2image/network_ris1.png)

![](lab2image/p2.png)

## Шаг 3
На маршрутизаторе R7 выполнить настройки интерфейсов, а также настройки протокола маршрутизации OSPF для области 120 (полностью тупиковой), обеспечивающие регистрацию событий
маршрутизации, аутентификацию соседей и активацию пассивных
интерфейсов: 
![](lab2image/p3.1.png) <br/>
Выполнить аналогичные настройки на маршрутизаторе R6. 
![](lab2image/p3.2.png) 

## Шаг 4
На маршрутизаторе R4 выполнить следующие настройки
сетевых интерфейсов и протокола маршрутизации OSPF: 
![](lab2image/4.1.png) 
![](lab2image/4.2.png) <br/>
Выполнить аналогичные настройки на маршрутизаторе R5.
 ![](lab2image/4.3.png) 
![](lab2image/4.4.png) <br/>
## Шаг 5
На маршрутизаторе R3 выполнить следующие настройки
сетевых интерфейсов и протокола маршрутизации OSPF: 
![](lab2image/5.1.png) 
![](lab2image/5.2.png) <br/>
выполнить аналогичные настройки на маршрутизаторе R2, дополнительно назначив ему в рамках протокола OSPF роль BDR . 
![](lab2image/5.3.png) 
![](lab2image/5.4.png) <br/>
## Шаг 6
На центральном маршрутизаторе R1 выполнить следующие основные настройки:
![](lab2image/6.png)

## Шаг Фикс багов 
В процессе работы мною было допущено множество различных ошибок и были найдены баги cisco:
1) Были неверно настроены некоторые интерфейсы на маршрутизаторах R2 и R4 
2) Был неверно сконфигурирован протокол OSPF на устройстве R3 неверный параметр area
3) Как выяснилось на моей версии CPT устройство добавляло в конфигурацию условия только до перезагрузки (решилось командой `write memory (wr m)`) <br/>
Как итог советую всегда проверять настройки ospf и интерфейсов с помощью данных команд:<br/>
`sh ip OSPF neighbor` - показывает соседей <br/>
`show running-config` - показывает конфиг устройства

## Шаг 7
Убедиться в корректности настроек маршрутизаторов, 
проверить возможность использования резервных маршрутов при
разрыве основных каналов связи. 
![](lab2image/pingall.png)
![](lab2image/network_done.png)
## Шаг 8
Внедрить в СПД ложный маршрутизатор. Убедиться в
невозможности установки сессий между маршрутизаторами СПД и
ложным маршрутизатором, а также внедрения ложной маршрутной
информации без знания пароля для алгоритма MD5. <br/>
`сделать изи очно`
## Шаг 9
 К маршрутизатору R4 подключить коммутатор ЛВС. 
Проанализировать сетевые информационные потоки ЛВС и убедиться в отсутствии в ней рассылки пакетов OSPF при активации
пассивных интерфейсов. <br/>
`сделать изи очно`